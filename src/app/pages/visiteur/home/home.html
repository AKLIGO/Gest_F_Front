<!-- Hero Section Premium -->
<section class="relative min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 overflow-hidden">
  <!-- Background Animated Pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute top-20 left-10 w-32 h-32 bg-blue-500 rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute top-40 right-20 w-40 h-40 bg-purple-500 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s"></div>
    <div class="absolute bottom-40 left-20 w-24 h-24 bg-indigo-500 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s"></div>
  </div>

  <div class="relative z-10 container mx-auto px-4 py-24">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <!-- Contenu Principal -->
      <div class="text-center lg:text-left space-y-8">
        <!-- Badge Premium -->
        <div class="inline-flex items-center px-6 py-3 bg-white/90 backdrop-blur-md rounded-full text-sm font-bold text-gray-800 shadow-xl border border-gray-200">
          <i class="fas fa-star text-yellow-500 mr-2 text-lg"></i>
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">Plateforme #1 au Togo</span>
        </div>

        <!-- Titre Principal -->
        <h1 class="text-6xl lg:text-7xl font-extrabold text-gray-900 leading-tight">
          Trouvez votre
          <span class="relative inline-block">
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">logement id√©al</span>
            <svg class="absolute -bottom-2 left-0 w-full" height="12" viewBox="0 0 200 12" fill="none">
              <path d="M2 10C40 4 60 2 100 2C140 2 160 4 198 10" stroke="url(#gradient)" stroke-width="3" stroke-linecap="round"/>
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:#3b82f6"/>
                  <stop offset="100%" style="stop-color:#9333ea"/>
                </linearGradient>
              </defs>
            </svg>
          </span>
        </h1>

        <!-- Description -->
        <p class="text-xl lg:text-2xl text-gray-600 leading-relaxed max-w-2xl">
          D√©couvrez notre s√©lection premium d'appartements modernes et de v√©hicules de qualit√©.
          <span class="font-semibold text-gray-800">R√©servez en quelques clics</span> et profitez d'un service exceptionnel.
        </p>

        <!-- Boutons CTA -->
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="#offres"
             class="group inline-flex items-center justify-center px-8 py-5 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-lg rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-2xl">
            <i class="fas fa-search mr-3 text-xl group-hover:rotate-12 transition-transform"></i>
            D√©couvrir nos offres
          </a>
          <a href="#contact"
             class="inline-flex items-center justify-center px-8 py-5 border-3 border-gray-300 text-gray-700 font-bold text-lg rounded-2xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-300 shadow-lg">
            <i class="fas fa-phone mr-3 text-xl"></i>
            Nous contacter
          </a>
        </div>

        <!-- Statistiques Modernes -->
        <div class="grid grid-cols-3 gap-6 pt-8">
          <div class="text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50">
            <div class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">500+</div>
            <div class="text-sm font-medium text-gray-600 mt-1">Appartements</div>
          </div>
          <div class="text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50">
            <div class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-emerald-600">200+</div>
            <div class="text-sm font-medium text-gray-600 mt-1">V√©hicules</div>
          </div>
          <div class="text-center p-4 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50">
            <div class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">1000+</div>
            <div class="text-sm font-medium text-gray-600 mt-1">Clients ravis</div>
          </div>
        </div>
      </div>

      <!-- Section Image Premium -->
      <div class="relative">
        <!-- Carte Principale -->
        <div class="relative z-10 bg-white rounded-[2rem] shadow-2xl p-6 transform hover:scale-105 transition-transform duration-500">
          <img [src]="images.length ? images[currentImageIndex] : 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80'"
               alt="Appartement moderne"
               class="w-full h-96 object-cover rounded-3xl">
          <!-- Badge Prix -->
          <div class="absolute -bottom-6 -right-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-3xl shadow-2xl">
            <div class="text-3xl font-extrabold">D√®s 50,000 F</div>
            <div class="text-sm font-medium opacity-90">par mois</div>
          </div>
        </div>

        <!-- Carte Flottante - Disponibilit√© -->
        <div class="absolute -top-6 -left-6 bg-white rounded-3xl shadow-2xl p-5 transform hover:scale-110 transition-all duration-300 z-20">
          <div class="flex items-center gap-4">
            <div class="w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center">
              <i class="fas fa-check text-white text-2xl"></i>
            </div>
            <div>
              <div class="font-bold text-gray-900 text-lg">Disponible</div>
              <div class="text-sm text-gray-600">R√©servez maintenant</div>
            </div>
          </div>
        </div>

        <!-- Carte Flottante - Note -->
        <div class="absolute -bottom-6 -left-6 bg-white rounded-3xl shadow-2xl p-5 transform hover:scale-110 transition-all duration-300 z-20">
          <div class="flex items-center gap-4">
            <div class="w-14 h-14 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-2xl flex items-center justify-center">
              <i class="fas fa-star text-white text-2xl"></i>
            </div>
            <div>
              <div class="font-bold text-gray-900 text-lg">4.9/5</div>
              <div class="text-sm text-gray-600">Note clients</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Section Fonctionnalit√©s Premium -->
<section class="py-24 bg-white">
  <div class="container mx-auto px-4">
    <!-- En-t√™te Section -->
    <div class="text-center mb-20">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mb-6">
        <i class="fas fa-crown text-white text-2xl"></i>
      </div>
      <h2 class="text-5xl font-extrabold text-gray-900 mb-4">
        Pourquoi choisir <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">LocalTogo</span> ?
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Nous offrons les meilleures solutions de location avec un service client exceptionnel
      </p>
    </div>

    <!-- Grille Fonctionnalit√©s -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Appartements -->
      <div class="group relative bg-gradient-to-br from-blue-50 to-indigo-100 p-10 rounded-[2rem] hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-3 border border-blue-100">
        <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-full blur-3xl"></div>
        <div class="relative">
          <div class="w-20 h-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-3xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-xl">
            <i class="fas fa-home text-white text-3xl"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">Appartements Modernes</h3>
          <p class="text-gray-700 leading-relaxed">
            D√©couvrez notre s√©lection d'appartements modernes et confortables,
            parfaitement √©quip√©s pour votre s√©jour.
          </p>
        </div>
      </div>

      <!-- V√©hicules -->
      <div class="group relative bg-gradient-to-br from-green-50 to-emerald-100 p-10 rounded-[2rem] hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-3 border border-green-100">
        <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full blur-3xl"></div>
        <div class="relative">
          <div class="w-20 h-20 bg-gradient-to-r from-green-600 to-emerald-600 rounded-3xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-xl">
            <i class="fas fa-car text-white text-3xl"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">V√©hicules de Qualit√©</h3>
          <p class="text-gray-700 leading-relaxed">
            Louez des v√©hicules r√©cents et bien entretenus pour tous vos d√©placements
            en toute s√©curit√©.
          </p>
        </div>
      </div>

      <!-- Support -->
      <div class="group relative bg-gradient-to-br from-purple-50 to-pink-100 p-10 rounded-[2rem] hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-3 border border-purple-100">
        <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"></div>
        <div class="relative">
          <div class="w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-xl">
            <i class="fas fa-headset text-white text-3xl"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-4">Support 24/7</h3>
          <p class="text-gray-700 leading-relaxed">
            Notre √©quipe est disponible 24h/24 pour vous accompagner et r√©soudre
            tous vos probl√®mes rapidement.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Section T√©moignages Premium -->
<section class="py-24 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50">
  <div class="container mx-auto px-4">
    <!-- En-t√™te -->
    <div class="text-center mb-20">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl mb-6">
        <i class="fas fa-quote-left text-white text-2xl"></i>
      </div>
      <h2 class="text-5xl font-extrabold text-gray-900 mb-4">
        Ce que disent nos <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">clients</span>
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        D√©couvrez les t√©moignages de nos clients satisfaits
      </p>
    </div>

    <!-- Grille T√©moignages -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- T√©moignage 1 -->
      <div class="relative bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-blue-200">
        <div class="absolute -top-4 -right-4 w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white text-3xl font-bold opacity-10">
          <i class="fas fa-quote-right"></i>
        </div>
        <div class="flex items-center mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl shadow-lg">
            K
          </div>
          <div class="ml-4">
            <h4 class="font-bold text-gray-900 text-lg">Koffi A.</h4>
            <div class="flex text-yellow-500">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-700 italic leading-relaxed">
          "Service exceptionnel ! L'appartement √©tait exactement comme sur les photos.
          Je recommande vivement LocalTogo."
        </p>
      </div>

      <!-- T√©moignage 2 -->
      <div class="relative bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-200">
        <div class="absolute -top-4 -right-4 w-20 h-20 bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl flex items-center justify-center text-white text-3xl font-bold opacity-10">
          <i class="fas fa-quote-right"></i>
        </div>
        <div class="flex items-center mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl shadow-lg">
            A
          </div>
          <div class="ml-4">
            <h4 class="font-bold text-gray-900 text-lg">A√Øcha M.</h4>
            <div class="flex text-yellow-500">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-700 italic leading-relaxed">
          "V√©hicule parfait et √©quipe tr√®s professionnelle.
          Je loue r√©guli√®rement avec eux."
        </p>
      </div>

      <!-- T√©moignage 3 -->
      <div class="relative bg-white rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-purple-200">
        <div class="absolute -top-4 -right-4 w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center text-white text-3xl font-bold opacity-10">
          <i class="fas fa-quote-right"></i>
        </div>
        <div class="flex items-center mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center text-white font-bold text-2xl shadow-lg">
            J
          </div>
          <div class="ml-4">
            <h4 class="font-bold text-gray-900 text-lg">Jean P.</h4>
            <div class="flex text-yellow-500">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-700 italic leading-relaxed">
          "Processus de r√©servation tr√®s simple et rapide.
          Support client r√©actif et efficace."
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Section Offres Premium -->
<section id="offres" class="py-24 bg-white">
  <div class="container mx-auto px-4">
    <!-- En-t√™te -->
    <div class="text-center mb-20">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mb-6">
        <i class="fas fa-gem text-white text-2xl"></i>
      </div>
      <h2 class="text-5xl font-extrabold text-gray-900 mb-4">
        Nos offres <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">exceptionnelles</span>
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        D√©couvrez notre s√©lection d'appartements et v√©hicules soigneusement choisis pour vous
      </p>
    </div>

    <!-- Grille Appartements Moderne -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div *ngFor="let appart of pagedAppartements; trackBy: trackByAppartementId"
           class="group bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 overflow-hidden border border-white/20">

        <!-- Image avec overlay -->
        <div class="relative overflow-hidden">
          <img [src]="appart.images?.[0]?.previewUrl || 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'"
               [alt]="appart.nom"
               class="w-full h-56 object-cover transform group-hover:scale-110 transition-transform duration-500">

          <!-- Badge statut -->
          <div class="absolute top-4 right-4">
            <span class="px-4 py-2 text-sm font-bold rounded-full shadow-lg backdrop-blur-sm"
                  [ngClass]="{
                    'bg-green-500/90 text-white': appart.statut === StatutAppartement.DISPONIBLE,
                    'bg-red-500/90 text-white': appart.statut !== StatutAppartement.DISPONIBLE
                  }">
              <i class="fas fa-circle text-xs mr-1"></i>{{ appart.statut }}
            </span>
          </div>

          <!-- Badge type -->
          <div class="absolute top-4 left-4">
            <span class="px-4 py-2 text-sm font-bold rounded-full bg-blue-500/90 text-white shadow-lg backdrop-blur-sm">
              <i class="fas fa-home text-xs mr-1"></i>{{ appart.type }}
            </span>
          </div>

          <!-- Gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>

          <!-- Info adresse au hover -->
          <div class="absolute bottom-4 left-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            <div class="flex items-center gap-2">
              <i class="fas fa-map-marker-alt"></i>
              <span class="text-sm font-medium line-clamp-1">{{ appart.adresse }}</span>
            </div>
          </div>
        </div>

        <!-- Contenu de la carte -->
        <div class="p-6">
          <h3 class="text-2xl font-bold text-gray-900 mb-2 line-clamp-1">
            {{ appart.nom }}
          </h3>

          <div class="flex items-center text-gray-600 mb-4 text-sm">
            <div class="flex items-center mr-4">
              <i class="fas fa-bed text-blue-500 mr-1"></i>
              <span>{{ appart.nbrDePieces }} pi√®ces</span>
            </div>
            <div class="flex items-center">
              <i class="fas fa-ruler-combined text-blue-500 mr-1"></i>
              <span>{{ appart.superficie }} m¬≤</span>
            </div>
          </div>

          <!-- Prix en vedette -->
          <div class="bg-gradient-to-r from-blue-100 to-purple-100 rounded-2xl p-4 mb-4">
            <div class="text-sm text-gray-600 mb-1">Prix de location</div>
            <div class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">
              {{ appart.prix | currency:'XOF' }}
            </div>
            <div class="text-xs text-gray-500 mt-1">par mois</div>
          </div>

          <!-- Bouton d√©tails -->
          <button 
            class="w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 mb-3"
            (click)="openDetails(appart)">
            <i class="fas fa-eye"></i>
            Voir les d√©tails
          </button>

          <!-- Bouton r√©server -->
          <button 
            class="w-full py-3 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2"
            (click)="showReservationForm(appart)">
            <i class="fas fa-calendar-plus"></i>
            R√©server
          </button>

          <!-- Formulaire de r√©servation -->
          <div *ngIf="selectedAppartementForReservation?.id === appart.id"
               class="mt-4 bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200 rounded-2xl p-5 shadow-lg transform animate-slideDown">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center">
                <i class="fas fa-calendar-check text-white"></i>
              </div>
              <h4 class="font-bold text-gray-900">R√©server cet appartement</h4>
            </div>
            <div class="space-y-3">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                  <i class="fas fa-calendar-day mr-1 text-blue-600"></i>Date de d√©but
                </label>
                <input type="date"
                       [(ngModel)]="reservationForm.dateDebut"
                       class="w-full px-4 py-2 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                  <i class="fas fa-calendar-day mr-1 text-blue-600"></i>Date de fin
                </label>
                <input type="date"
                       [(ngModel)]="reservationForm.dateFin"
                       class="w-full px-4 py-2 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
              </div>
              <button class="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 transform hover:scale-105 shadow-lg"
                      (click)="submitReservation(appart)">
                <i class="fas fa-check mr-2"></i>Confirmer la r√©servation
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Pagination Premium -->
    <div class="mt-16 flex justify-center">
      <div class="flex items-center gap-3 bg-white/80 backdrop-blur-sm p-4 rounded-2xl shadow-xl border border-white/50">
        <button class="px-5 py-3 bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 rounded-xl hover:from-gray-300 hover:to-gray-400 transition-all duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105"
                (click)="changePage(currentPage -1)"
                [disabled]="currentPage===1">
          <i class="fas fa-chevron-left mr-2"></i>Pr√©c√©dent
        </button>

        <div class="flex gap-2">
          <button *ngFor="let page of [].constructor(totalPages); let i=index"
                  class="px-5 py-3 rounded-xl font-bold transition-all duration-200 transform hover:scale-105"
                  [ngClass]="{
                    'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg': currentPage===i+1,
                    'bg-gray-200 text-gray-700 hover:bg-gray-300': currentPage!==i+1
                  }"
                  (click)="changePage(i+1)">
            {{ i+1 }}
          </button>
        </div>

        <button class="px-5 py-3 bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 rounded-xl hover:from-gray-300 hover:to-gray-400 transition-all duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105"
                (click)="changePage(currentPage +1)"
                [disabled]="currentPage===totalPages">
          Suivant<i class="fas fa-chevron-right ml-2"></i>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Section CTA Finale Premium -->
<section class="relative py-28 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 overflow-hidden">
  <!-- Background Anim√© -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute top-20 left-10 w-64 h-64 bg-white rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute bottom-20 right-10 w-64 h-64 bg-pink-300 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s"></div>
  </div>

  <div class="relative z-10 container mx-auto px-4 text-center">
    <!-- Ic√¥ne centrale -->
    <div class="inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-3xl mb-8">
      <i class="fas fa-rocket text-white text-3xl"></i>
    </div>

    <!-- Titre -->
    <h2 class="text-5xl lg:text-6xl font-extrabold text-white mb-6">
      Pr√™t √† trouver votre logement id√©al ?
    </h2>
    <p class="text-2xl text-blue-100 mb-12 max-w-3xl mx-auto font-light">
      Rejoignez des milliers de clients satisfaits et d√©couvrez nos offres exceptionnelles
    </p>

    <!-- Boutons CTA -->
    <div class="flex flex-col sm:flex-row gap-6 justify-center mb-16">
      <a href="#offres"
         class="group inline-flex items-center justify-center px-10 py-5 bg-white text-blue-600 font-bold text-lg rounded-2xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-2xl">
        <i class="fas fa-search mr-3 text-xl group-hover:rotate-12 transition-transform"></i>
        Voir nos offres
      </a>
      <a href="/register"
         class="inline-flex items-center justify-center px-10 py-5 border-3 border-white text-white font-bold text-lg rounded-2xl hover:bg-white hover:text-blue-600 transition-all duration-300 shadow-2xl">
        <i class="fas fa-user-plus mr-3 text-xl"></i>
        Cr√©er un compte
      </a>
    </div>

    <!-- Statistiques finales premium -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
      <div class="bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105">
        <div class="text-5xl font-extrabold text-white mb-2">500+</div>
        <div class="text-blue-100 font-medium">Appartements disponibles</div>
      </div>
      <div class="bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105">
        <div class="text-5xl font-extrabold text-white mb-2">200+</div>
        <div class="text-blue-100 font-medium">V√©hicules en location</div>
      </div>
      <div class="bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105">
        <div class="text-5xl font-extrabold text-white mb-2">1000+</div>
        <div class="text-blue-100 font-medium">Clients satisfaits</div>
      </div>
    </div>
  </div>
</section>

<!-- Modal D√©tails -->
<div *ngIf="selectedAppartement" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4">
  <div class="bg-white w-full max-w-2xl rounded-lg overflow-hidden shadow-lg max-h-[90vh] overflow-y-auto">


    <!-- Images -->
    <div class="p-4 space-y-4">
      <ng-container *ngIf="(selectedAppartement.images ?? []).length > 0; else noImages">
        <div class="relative">
          <img [src]="getImageUrl(selectedAppartement.images[selectedImageIndex])"
               class="w-full h-52 object-cover rounded-md"
               [alt]="selectedAppartement.nom ?? 'image'">

          <button *ngIf="(selectedAppartement.images?.length ?? 0) > 1"
                  (click)="prevImage()"
                  class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-60 hover:bg-opacity-80 rounded-full p-2">‚Äπ</button>

          <button *ngIf="(selectedAppartement.images?.length ?? 0) > 1"
                  (click)="nextImage()"
                  class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-60 hover:bg-opacity-80 rounded-full p-2">‚Ä∫</button>

          <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-40 text-white text-sm px-2 py-1 rounded">
            {{ selectedImageIndex + 1 }} / {{ selectedAppartement.images.length }}
          </div>
        </div>
      </ng-container>
      <ng-template #noImages>
        <div class="p-8 bg-gray-200 text-center rounded">Aucune image disponible</div>
      </ng-template>
    </div>

    <!-- Infos et actions -->
    <div class="p-6 border-t bg-gray-50">
      <div class="flex flex-col md:flex-row md:items-start md:gap-6">
        <div class="flex-1">
          <h3 class="text-2xl font-extrabold text-gray-800 mb-2">{{ selectedAppartement.nom }}</h3>
          <p class="text-sm text-gray-500 mb-4 flex items-center gap-2">
            <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1 1 0 01-1.414 0l-4.243-4.243A8 8 0 1117.657 16.657z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            <span>{{ selectedAppartement.adresse }}</span>
          </p>

          <div class="grid grid-cols-2 gap-3 text-sm mb-4">
            <div class="bg-white p-3 rounded shadow-sm">
              <div class="text-xs text-gray-400">Superficie</div>
              <div class="font-medium text-gray-800">{{ selectedAppartement.superficie }} m¬≤</div>
            </div>
            <div class="bg-white p-3 rounded shadow-sm">
              <div class="text-xs text-gray-400">Pi√®ces</div>
              <div class="font-medium text-gray-800">{{ selectedAppartement.nbrDePieces }}</div>
            </div>
            <div class="bg-white p-3 rounded shadow-sm">
              <div class="text-xs text-gray-400">Type</div>
              <div class="font-medium text-gray-800">{{ selectedAppartement.type }}</div>
            </div>
            <div class="bg-white p-3 rounded shadow-sm">
              <div class="text-xs text-gray-400">Statut</div>
              <div class="font-medium"
                   [ngClass]="{
                     'text-green-600': selectedAppartement.statut === StatutAppartement.DISPONIBLE,
                     'text-gray-600': selectedAppartement.statut !== StatutAppartement.DISPONIBLE
                   }">{{ selectedAppartement.statut }}</div>
            </div>
          </div>

          <div class="mt-2">
            <div class="text-sm text-gray-400">Prix</div>
            <div class="text-2xl font-bold text-indigo-600 mb-3">{{ selectedAppartement.prix | currency:'XOF' }}</div>
            <div *ngIf="selectedAppartement.description" class="prose prose-sm max-w-none text-gray-700 bg-white p-4 rounded shadow-sm">
              {{ selectedAppartement.description }}
            </div>
          </div>
        </div>

        <div class="mt-4 md:mt-0 md:w-44 flex-shrink-0">
          <div class="flex flex-col gap-3">
            <button (click)="afficherContactAppartement(selectedAppartement.id)" 
                    class="w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded shadow">
              <i class="fas fa-phone mr-2"></i>Contacter
            </button>
            
            <!-- Affichage du contact -->
            <div *ngIf="contactProprietaire" class="mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg">
              <p class="text-xs font-medium text-blue-900 mb-2">
                <i class="fas fa-user mr-1"></i>Contact du propri√©taire
              </p>
              <div class="space-y-1">
                <div *ngIf="contactProprietaire.nom" class="text-xs">
                  <span class="font-semibold text-gray-700">Nom :</span> 
                  <span class="text-gray-900">{{ contactProprietaire.nom }}</span>
                </div>
                <div *ngIf="contactProprietaire.email" class="text-xs">
                  <span class="font-semibold text-gray-700">Email :</span>
                  <div class="mt-1 flex flex-col gap-1">
                    <a [href]="'https://mail.google.com/mail/?view=cm&to=' + contactProprietaire.email"
                       target="_blank"
                       class="text-blue-600 hover:text-blue-800 hover:underline inline-flex items-center break-all">
                      <i class="fas fa-envelope mr-1"></i>{{ contactProprietaire.email }}
                      <i class="fas fa-external-link-alt ml-1 text-[10px]"></i>
                    </a>
                    <button (click)="copyToClipboard(contactProprietaire.email)"
                            class="px-2 py-1 bg-gray-200 hover:bg-gray-300 rounded text-xs flex items-center gap-1 self-start">
                      <i class="fas fa-copy"></i> Copier
                    </button>
                  </div>
                  <p class="text-[10px] text-gray-500 mt-1 italic">
                    üí° Cliquez pour ouvrir Gmail
                  </p>
                </div>
                <div *ngIf="contactProprietaire.telephone" class="text-xs">
                  <span class="font-semibold text-gray-700">T√©l :</span>
                  <div class="mt-1 flex items-center gap-1">
                    <a [href]="'tel:' + contactProprietaire.telephone"
                       class="text-blue-600 hover:text-blue-800 hover:underline flex-1">
                      <i class="fas fa-phone mr-1"></i>{{ contactProprietaire.telephone }}
                    </a>
                    <button (click)="copyToClipboard(contactProprietaire.telephone)"
                            class="px-1 py-1 bg-gray-200 hover:bg-gray-300 rounded text-xs flex-shrink-0">
                      <i class="fas fa-copy"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="text-xs text-gray-400 pt-2">R√©f√©rence:<p>{{ selectedAppartement.localisation }}</p> <span class="text-gray-700 font-medium">{{ selectedAppartement.numero }}</span></div>
          </div>
        </div>
      </div>
    </div>

    <div class="p-4 border-t text-right bg-white">
      <button class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 mr-2" (click)="closeDetails()">Fermer</button>


      <a [href]="selectedAppartement.localisation" target="_blank"
      class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">
      Voir sur la carte
      </a>

    </div>
  </div>
</div>
